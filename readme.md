# OLDFLIX

API para gestão de uma locadora

## Funcionalidades

- Listar filmes: `GET /filmes`
- Incluir novo filme : `POST /filmes`
- Alugar um filme : `PUT /filmes/{id}/alugar`
- Devolver um filme : `PUT /filmes{id}/alugar`
- Detalhes de um filme: `GET /filmes/{id}`
- Remover um filme : `DELETE /filmes/{id}`
- Editar um filme : `PUT /filmes/{id}`

## Dados

### Schema

```sql
DROP TABLE IF EXISTS filme CASCADE;
CREATE TABLE filme (
                       id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
                       titulo VARCHAR(100) NOT NULL,
                       disponivel boolean NOT NULL,
                       categoria VARCHAR(10) NOT NULL,
                       responsavel VARCHAR(100),
                       data_de_retirada date,
                       url_poster VARCHAR(200) NOT NULL,
                       descricao VARCHAR(1000) NOT NULL,
                       CONSTRAINT ck_movie CHECK (categoria IN ('BRONZE' , 'PRATA', 'OURO')),
                       CONSTRAINT pk_movie PRIMARY KEY (id)
```

### Inserts

```sql
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES ('Esposa de mentirinha', true, 'PRATA', 'https://image.tmdb.org/t/p/w1280/v8ct2LskBXLcPHrW3uvtpyTcwfl.jpg', 'Infeliz em sua tentativa de casamento, Danny passa a vivenciar relacionamentos sem compromisso para driblar a carência. Assim, ele toca sua vida como cirurgião plástico bem sucedido, tendo sua melhor amiga Katherine, mãe solteira de um casal, como fiel escudeira. Quando conhece a jovem Palmer e a paixão toma conta de ambos, ele inventa, para tentar conquistá-la, que é marido de Katherine, pai das crianças e que vai se separar.');
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES('Voce', true, 'OURO', 'https://image.tmdb.org/t/p/w1280/ivqi64qY0S3ZAimvjlqXLEH7D6W.jpg', 'Obcecado por uma aspirante a escritora, um charmoso gerente de livraria lança mão de medidas extremas para entrar na vida dela.');
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES('Casamento Armado', true, 'BRONZE', 'https://image.tmdb.org/t/p/w1280/i3OgPuen3vi7UkAQCMZou2NkPUm.jpg', 'Durante a cerimônia de casamento, Darcy e Tom estão reunidos com seus familiares para celebrar o grande momento, quando são surpreendidos por sequestradores. Agora, os noivos têm a missão de salvar as suas famílias do perigo, trazendo a lembrança de quando se apaixonaram um pelo outro.');
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES('Pantera Negra: Wakanda para Sempre', true, 'OURO', 'https://image.tmdb.org/t/p/w600_and_h900_bestv2/nZ69WTv7n01womaNz3SHa4inA9x.jpg', 'A rainha Ramonda, Shuri, MBaku, Okoye e as poderosas Dora Milaje lutam para proteger sua nação após a morte do rei TChalla. Com a ajuda da Cão de Guerra Nakia e de Everett Ross, eles tentam encontrar um novo caminho para Wakanda.');
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES('Avatar: O Caminho da Água', true, 'BRONZE', 'https://image.tmdb.org/t/p/w1280/mbYQLLluS651W89jO7MOZcLSCUw.jpg', '12 anos depois de explorar Pandora e se juntar aos Navi, Jake Sully formou uma família com Neytiri e se estabeleceu entre os clãs do novo mundo. Porém, a paz não durará para sempre.');
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES('Noite Infeliz', true, 'PRATA', 'https://image.tmdb.org/t/p/w1280/rZSsZpKPcttcdJtEfCuNP2xwwvl.jpg', ' Da 87North, os produtores despidos de Anônimo, John Wick, Atômica, Deadpool 2 e Velozes & Furiosos: Hobbs & Shaw, vem aí um feriado escuro como carvão que diz que você deve sempre apostar no vermelho. Quando uma equipe de mercenários invade um complexo familiar rico na véspera de Natal, levando todos de reféns, a equipe não está preparada para um combatente surpresa: Papai Noel (David Harbour, Viúva Negra, série Stranger Things) está no local, e ele está prestes a mostrar por que esse Papai não é nenhum santo.');
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES('As Crônicas de Nárnia: O Leão, a Feiticeira e o Guarda-Roupa', true, 'PRATA', 'https://image.tmdb.org/t/p/w1280/2rElTfcZ09mfiDtD1wdE9EyXcUs.jpg', 'Durante os bombardeios da Segunda Guerra Mundial de Londres, quatro irmãos ingleses são enviados para uma casa de campo onde eles estarão seguros. Um dia, Lucy encontra um guarda-roupa que a transporta para um mundo mágico chamado Nárnia. Depois de voltar, ela logo volta a Nárnia com seus irmãos, Peter e Edmund, e sua irmã, Susan. Lá eles se juntam ao leão mágico, Aslan, na luta contra a Feiticeira Branca.');
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES('Gato de Botas 2: O Último Pedido', true, 'OURO', 'https://image.tmdb.org/t/p/w1280/zhXPvoxgB5U3K85CQC7YX5RWVmf.jpg', 'O Gato de Botas descobre que sua paixão pela aventura cobrou seu preço: ele queimou oito de suas nove vidas, deixando-o com apenas uma vida restante. Gato parte em uma jornada épica para encontrar o mítico Último Desejo e restaurar suas nove vidas.');
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES('Alerta Máximo', true, 'OURO', 'https://image.tmdb.org/t/p/w1280/zr50kb04fTFcGfZTKFzbKTmQSiZ.jpg', 'O piloto Brodie Torrance salva seus passageiros de um raio pousando em uma ilha. Os moradores rebeldes e perigosos do local fazem a tripulação refém e Torrance procura ajuda de um passageiro acusado de assassinato.');
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES('A Mulher Rei', true, 'PRATA', 'https://image.tmdb.org/t/p/w1280/dTXXXMwZ30LVf51nJvh2QGKPIY6.jpg', 'Nanisca era a comandante do exército do Reino de Daomé, um dos locais mais poderosos da África nos séculos XVII e XIX. Durante o período, o grupo militar era composto apenas por mulheres, entre as guerreiras está a filha de Nanisca, Nawi, juntas elas combateram os colonizadores franceses, tribos rivais e todos aqueles que tentaram escravizar seu povo e destruir suas terras.');
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES('Top Gun: Maverick', true, 'PRATA', 'https://image.tmdb.org/t/p/w1280/62HCnUTziyWcpDaBO2i1DX17ljH.jpg', 'Depois de mais de 30 anos de serviço como um dos principais aviadores da Marinha, Pete "Maverick" Mitchell está de volta, rompendo os limites como um piloto de testes corajoso. No mundo contemporâneo das guerras tecnológicas, Maverick enfrenta drones e prova que o fator humano ainda é essencial.');
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES('Batman', true, 'BRONZE', 'https://image.tmdb.org/t/p/w1280/wd7b4Nv9QBHDTIjc2m7sr0IUMoh.jpg', 'Após dois anos espreitando as ruas como Batman, Bruce Wayne se encontra nas profundezas mais sombrias de Gotham City. Com poucos aliados confiáveis, o vigilante solitário se estabelece como a personificação da vingança para a população.');
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES('Hotel Transilvânia: Transformonstrão', true, 'OURO', 'https://www.themoviedb.org/t/p/w1280/9PbtCo5IIkd26WPQfZUpPyn6fTz.jpg', 'Drac e sua turma acabam sendo transformados em humanos após uma invenção de Van Helsing. Agora, eles precisam viajar até a Floresta Amazônica para encontrar o que pode ser a única solução para reverter a transformação, antes que seus poderes se percam para sempre.');
INSERT INTO filme (titulo, disponivel, categoria, url_poster, descricao) VALUES('Velozes & Furiosos 9', true, 'OURO', 'https://www.themoviedb.org/t/p/w1280/fnAzaxRSiveFafudJtByxA7I2xT.jpg', 'Dominic Toretto e sua família precisam enfrentar o seu irmão mais novo Jakob, um assassino mortal que está trabalhando com uma antiga inimiga, a cyber-terrorista Cipher.');



```
